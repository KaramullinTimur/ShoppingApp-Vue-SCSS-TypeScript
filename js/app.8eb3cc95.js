(function(t){function e(e){for(var r,i,o=e[0],a=e[1],u=e[2],l=0,f=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),s()}function s(){for(var t,e=0;e<c.length;e++){for(var s=c[e],r=!0,o=1;o<s.length;o++){var a=s[o];0!==n[a]&&(r=!1)}r&&(c.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},n={app:0},c=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ShoppingApp-Vue-SCSS-TypeScript/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=a;c.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"0fe7":function(t,e,s){},2122:function(t,e,s){},"2c00":function(t,e,s){"use strict";s("b232")},"382a":function(t,e,s){"use strict";s("dfd2")},5830:function(t,e,s){"use strict";s("9af9")},"6dc2":function(t,e,s){t.exports=s.p+"img/user-avatar.7857a902.png"},8680:function(t,e,s){"use strict";s("d810")},"90fd":function(t,e,s){"use strict";s("2122")},"97f5":function(t,e,s){"use strict";s("0fe7")},"9af9":function(t,e,s){},b232:function(t,e,s){},cd49:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("7a23"),n={key:0,class:"waiting"},c=Object(r["f"])("div",{class:"waiting-item-1"},[Object(r["f"])("div",{class:"waiting-item-2"})],-1),i=[c];function o(t,e,s,c,o,a){var u=Object(r["p"])("Header"),d=Object(r["p"])("Main");return Object(r["k"])(),Object(r["e"])(r["a"],null,[Object(r["g"])(u),Object(r["g"])(d),t.waiting?(Object(r["k"])(),Object(r["e"])("div",n,i)):Object(r["d"])("",!0)],64)}s("ac1f"),s("841c");var a=s("6dc2"),u=s.n(a);Object(r["m"])("data-v-5ad2a051");var d={class:"header"},l={class:"header-container"},f=Object(r["f"])("div",{class:"header-item"},[Object(r["f"])("div",{class:"logo"},"SHOP"),Object(r["f"])("div",{class:"logo logo2"},"SHOP")],-1),h={class:"header-item"},b=Object(r["f"])("button",{class:"search-button"},null,-1),p={class:"header-item"},g={class:"cart-icon-counter"},O={key:0},j=Object(r["f"])("div",{class:"user-avatar"},[Object(r["f"])("img",{src:u.a,class:"user-pic",alt:"user avatar"})],-1);function m(t,e,s,n,c,i){var o=Object(r["p"])("LogIn"),a=Object(r["p"])("Cart"),u=Object(r["p"])("User");return Object(r["k"])(),Object(r["e"])("header",d,[Object(r["f"])("div",l,[f,Object(r["f"])("div",h,[Object(r["f"])("div",{class:Object(r["j"])(["search",{shown:t.isSearchShown}]),onClick:e[1]||(e[1]=function(t){return t.stopPropagation()})},[b,Object(r["v"])(Object(r["f"])("input",{type:"search",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.search=e})},null,512),[[r["t"],t.search]])],2)]),Object(r["f"])("div",p,[Object(r["f"])("button",{class:"hidden-search",onClick:e[2]||(e[2]=function(e){return t.showSearch(e)})}),Object(r["f"])("button",{class:Object(r["j"])(["sign-in",{hidden:t.isUserAuthorized}]),onClick:e[3]||(e[3]=function(){return t.toSignIn&&t.toSignIn.apply(t,arguments)})}," Sign in ",2),t.isLogInShown?(Object(r["k"])(),Object(r["c"])(o,{key:0,onOnSigned:t.signInSuccessed,onOnCanceled:t.signInCanceled},null,8,["onOnSigned","onOnCanceled"])):Object(r["d"])("",!0),Object(r["f"])("div",{class:Object(r["j"])(["cart-icon",{shown:t.isUserAuthorized}])},[Object(r["f"])("button",{class:"cart-icon-button",onClick:e[4]||(e[4]=function(){return t.toCart&&t.toCart.apply(t,arguments)})}),Object(r["f"])("div",g,[t.userCartProducts?(Object(r["k"])(),Object(r["e"])("span",O,Object(r["q"])(t.userCartProducts.length),1)):Object(r["d"])("",!0)])],2),t.isCartShown?(Object(r["k"])(),Object(r["c"])(a,{key:1,onOnCanceled:t.cartCanceled},null,8,["onOnCanceled"])):Object(r["d"])("",!0),Object(r["f"])("div",{class:Object(r["j"])(["user",{shown:t.isUserAuthorized}])},[j,Object(r["f"])("button",{class:"user-button",onClick:e[5]||(e[5]=function(e){return t.showUserMenu(e)})}),t.isUserMenuShown?(Object(r["k"])(),Object(r["c"])(u,{key:0,onOnLogOut:t.logOut,onClick:e[6]||(e[6]=function(t){return t.stopPropagation()})},null,8,["onOnLogOut"])):Object(r["d"])("",!0)],2)])])])}Object(r["l"])();s("b680");Object(r["m"])("data-v-077ac58b");var v={class:"cart-wrapper"},w={class:"cart"},y=Object(r["f"])("div",{class:"a"},null,-1),C=Object(r["f"])("h2",{class:"cart-title"},"Shopping cart",-1),P={key:0},I={class:"cart-list"},k={class:"cart-item-info"},S=["src","alt"],U={class:"cart-item-description"},$={class:"cart-item-category"},A={class:"cart-item-name"},T={class:"cart-item-price"},L={class:"cart-item-control"},q={class:"cart-item-quantity"},V=["onClick"],x={class:"cart-item-amount"},_=["onClick"],z={class:"cart-item-total"},M=["onClick"],H={key:1,class:"cart-empty"},Q={class:"cart-total"},E=Object(r["f"])("span",{class:"cart-total-name"},"Total:",-1),F={class:"cart-total-price"},N={class:"cart-buttons-wrapper"},J=Object(r["f"])("button",{class:"cart-payment cart-button",disabled:"",title:"Not available now"}," Payment",-1);function B(t,e,s,n,c,i){return Object(r["k"])(),Object(r["e"])("div",v,[Object(r["f"])("div",w,[y,C,t.userCartProducts&&t.userCartProducts.length>0?(Object(r["k"])(),Object(r["e"])("div",P,[Object(r["f"])("ul",I,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(t.userCartProducts,(function(e,s){return Object(r["k"])(),Object(r["e"])("li",{class:"cart-item",key:s},[Object(r["f"])("div",k,[Object(r["f"])("img",{class:"cart-item-img",src:e.image,alt:e.title},null,8,S),Object(r["f"])("div",U,[Object(r["f"])("p",$,Object(r["q"])(e.category),1),Object(r["f"])("h3",A,Object(r["q"])(e.title),1),Object(r["f"])("div",T,"$"+Object(r["q"])(e.price),1)])]),Object(r["f"])("div",L,[Object(r["f"])("div",q,[Object(r["f"])("button",{class:"cart-item-minus cart-item-button",onClick:function(r){return t.removeOneItem([t.userCartProductsQuantity[s],e.id,t.cart.userId])}},null,8,V),Object(r["f"])("span",x,Object(r["q"])(t.userCartProductsQuantity[s]),1),Object(r["f"])("button",{class:"cart-item-plus cart-item-button",onClick:function(r){return t.addOneItem([t.userCartProductsQuantity[s],e.id,t.cart.userId])}},null,8,_)]),Object(r["f"])("div",z," $"+Object(r["q"])((t.userCartProductsQuantity[s]*+e.price).toFixed(2)),1),Object(r["f"])("button",{class:"cart-item-delete",onClick:function(s){return t.deleteItem(e.id)}},null,8,M)])])})),128))])])):(Object(r["k"])(),Object(r["e"])("div",H,"Cart is empty")),Object(r["f"])("div",Q,[E,Object(r["f"])("span",F,"$"+Object(r["q"])(t.totalPrice),1)]),Object(r["f"])("div",N,[Object(r["f"])("button",{class:"cart-continue cart-button",onClick:e[0]||(e[0]=function(){return t.cancel&&t.cancel.apply(t,arguments)})},"Continue shopping"),J])])])}Object(r["l"])();var R=s("3835"),D=Object(r["h"])({data:function(){return{}},computed:{cart:function(){return this.$store.getters.getCart},products:function(){return this.$store.getters.getProducts},userCartProducts:function(){return this.$store.getters.getUserCartProducts},userCartProductsQuantity:function(){return this.$store.getters.getUserCartQuantity},totalPrice:function(){for(var t=0,e=0;e<this.userCartProducts.length;e++)t+=+this.userCartProducts[e].price*+this.userCartProductsQuantity[e];return t.toFixed(2)}},methods:{addOneItem:function(t){var e=Object(R["a"])(t,3),s=e[0],r=e[1],n=e[2];this.$store.dispatch("patchOneItemToCart",[s+1,r,n])},removeOneItem:function(t){var e=Object(R["a"])(t,3),s=e[0],r=e[1],n=e[2];s>1&&this.$store.dispatch("patchOneItemToCart",[s-1,r,n])},deleteItem:function(t){this.$store.dispatch("deleteItemFromCart",t)},cancel:function(){this.$emit("onCanceled")}}});s("8680");D.render=B,D.__scopeId="data-v-077ac58b";var G=D;s("b0c0");Object(r["m"])("data-v-23589bf6");var K={class:"user-menu"},W=Object(r["f"])("div",{class:"user-menu-caption"}," Signed in as : ",-1),X={class:"user-menu-data"},Y=Object(r["f"])("div",{class:"user-menu-caption"}," Username: ",-1),Z={class:"user-menu-data"},tt=Object(r["f"])("div",{class:"user-menu-caption"}," Email: ",-1),et={class:"user-menu-data"},st=Object(r["f"])("div",{class:"user-menu-caption"}," Address: ",-1),rt={class:"user-menu-data"};function nt(t,e,s,n,c,i){return Object(r["k"])(),Object(r["e"])("div",K,[W,Object(r["f"])("div",X,Object(r["q"])(t.user.name.firstname+" "+t.user.name.lastname),1),Y,Object(r["f"])("div",Z,Object(r["q"])(t.user.username),1),tt,Object(r["f"])("div",et,Object(r["q"])(t.user.email),1),st,Object(r["f"])("div",rt,Object(r["q"])(t.user.address.city+", "+t.user.address.street+", "+t.user.address.number),1),Object(r["f"])("button",{class:"user-menu-out",onClick:e[0]||(e[0]=function(){return t.logOut&&t.logOut.apply(t,arguments)})},"Sign out")])}Object(r["l"])();var ct=Object(r["h"])({computed:{user:function(){return this.$store.getters.getUser}},methods:{logOut:function(){this.$store.commit("setSignInAnswer",{status:"Log out"}),this.$emit("onLogOut")}}});s("382a");ct.render=nt,ct.__scopeId="data-v-23589bf6";var it=ct;Object(r["m"])("data-v-942382aa");var ot={class:"log-in-wrapper"},at={class:"log-in"},ut=Object(r["f"])("h2",{class:"log-in-title"},"Sign in to SHOP",-1),dt=Object(r["f"])("p",{class:"log-in-remark"},"*The API may not work well so wait for a response or reload",-1),lt=Object(r["f"])("label",{class:"username-label label",for:"username-input"},"Username",-1),ft=Object(r["f"])("label",{class:"password-label label",for:"password-input"},"Password",-1),ht=["type"],bt={class:"checkbox"},pt=Object(r["f"])("label",{class:"checkbox-label",for:"checkbox-input"},"show password",-1),gt={class:"error"},Ot={class:"log-in-buttons"},jt=["disabled"];function mt(t,e,s,n,c,i){return Object(r["k"])(),Object(r["e"])("div",ot,[Object(r["f"])("div",at,[ut,dt,lt,Object(r["v"])(Object(r["f"])("input",{type:"text",class:"username-input input",id:"username-input","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.user.username=e}),onBlur:e[1]||(e[1]=function(){return t.checkValidity&&t.checkValidity.apply(t,arguments)})},null,544),[[r["t"],t.user.username]]),Object(r["f"])("p",{class:Object(r["j"])(["error-message",{shown:t.isUsernameInvalid}])},"please enter the username",2),ft,Object(r["v"])(Object(r["f"])("input",{type:t.passwordVisibility,class:"password-input input",id:"password-input","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.user.password=e}),onBlur:e[3]||(e[3]=function(){return t.checkValidity&&t.checkValidity.apply(t,arguments)})},null,40,ht),[[r["r"],t.user.password]]),Object(r["f"])("p",{class:Object(r["j"])(["error-message",{shown:t.isPasswordInvalid}])},"please enter the password",2),Object(r["f"])("div",bt,[Object(r["f"])("input",{type:"checkbox",class:"checkbox-input",id:"checkbox-input",onChange:e[4]||(e[4]=function(){return t.changePasswordVisibility&&t.changePasswordVisibility.apply(t,arguments)})},null,32),pt]),Object(r["f"])("div",gt,[Object(r["f"])("p",{class:Object(r["j"])(["error-message",{shown:t.signInError}])},"Error: "+Object(r["q"])(t.errorMessage),3)]),Object(r["f"])("div",Ot,[Object(r["f"])("button",{class:"log-in-button button-cancel",onClick:e[5]||(e[5]=function(){return t.cancel&&t.cancel.apply(t,arguments)})},"Cancel"),Object(r["f"])("button",{class:"log-in-button button-sign-in",onClick:e[6]||(e[6]=function(){return t.logIn&&t.logIn.apply(t,arguments)}),disabled:t.isUsernameInvalid||t.isPasswordInvalid},"Sign in",8,jt)])])])}Object(r["l"])();var vt=Object(r["h"])({data:function(){return{username:"",password:"",errorMessage:"Incorrect username or password",isUsernameInvalid:!1,isPasswordInvalid:!1,passwordVisibility:"password"}},computed:{user:function(){return this.$store.getters.getUser},signInAnswer:function(){return this.$store.getters.getSignInAnswer},signInError:function(){return"Error"===this.signInAnswer.status||this.isUsernameInvalid||this.isPasswordInvalid?(this.$store.commit("waitingCompleted"),!0):"Log out"!==this.signInAnswer.status&&(!!this.signInAnswer.token&&(this.$emit("onSigned"),!1))}},methods:{logIn:function(){this.$store.commit("waitingOn"),this.checkValidity(),this.username=this.user.username,this.password=this.user.password,this.$store.dispatch("postUserSignIn",[this.username,this.password])},cancel:function(){this.$emit("onCanceled")},checkValidity:function(){""===this.user.username?this.isUsernameInvalid=!0:this.isUsernameInvalid=!1,""===this.user.password?this.isPasswordInvalid=!0:this.isPasswordInvalid=!1},changePasswordVisibility:function(){"password"===this.passwordVisibility?this.passwordVisibility="text":"text"===this.passwordVisibility&&(this.passwordVisibility="password")}}});s("90fd");vt.render=mt,vt.__scopeId="data-v-942382aa";var wt=vt,yt=Object(r["h"])({data:function(){return{isUserMenuShown:!1,isCartShown:!1,isSearchShown:!1}},computed:{search:{get:function(){return this.$store.getters.getSearch},set:function(t){this.$store.commit("updateSearch",t)}},isUserAuthorized:function(){return this.$store.getters.isUserAuthorized},isLogInShown:function(){return this.$store.getters.isLogInShown},currentUserId:function(){return this.$store.getters.getUser.id},userCartProducts:function(){return this.$store.getters.getUserCartProducts}},methods:{toSignIn:function(){this.$store.commit("showLogIn")},signInSuccessed:function(){this.$store.commit("hideLogIn"),this.$store.commit("userAuthorized"),this.$store.dispatch("getCart"),this.$store.commit("waitingCompleted")},signInCanceled:function(){this.$store.commit("hideLogIn"),this.$store.commit("waitingCompleted")},showUserMenu:function(t){var e=this;this.isUserMenuShown=!this.isUserMenuShown,t.stopPropagation(),document.body.addEventListener("click",(function(){e.isUserMenuShown=!1}))},logOut:function(){this.$store.commit("userNotAuthorized")},toCart:function(){this.isCartShown=!0},cartCanceled:function(){this.isCartShown=!1},showSearch:function(t){var e=this;this.isSearchShown=!this.isSearchShown,t.stopPropagation(),document.body.addEventListener("click",(function(){e.isSearchShown=!1}))}},mounted:function(){this.$store.dispatch("getUser")},components:{Cart:G,User:it,LogIn:wt}});s("97f5");yt.render=m,yt.__scopeId="data-v-5ad2a051";var Ct=yt;s("a4d3"),s("e01a");Object(r["m"])("data-v-f211ff30");var Pt={class:"main"},It={class:"categories"},kt={class:"categories-list"},St=Object(r["f"])("div",{class:"categories-item-name"},"All products",-1),Ut=Object(r["f"])("div",{class:"categories-item-icon all"},null,-1),$t=[St,Ut],At=["onClick"],Tt={class:"categories-item-name"},Lt={class:"products"},qt={class:"filters"},Vt={class:"display"},xt=Object(r["f"])("div",{class:"display-name"},"Results per page:",-1),_t=Object(r["f"])("option",{value:"6"},"6",-1),zt=Object(r["f"])("option",{value:"12"},"12",-1),Mt=Object(r["f"])("option",{value:"all"},"all",-1),Ht=[_t,zt,Mt],Qt={class:"display-info"},Et={class:"sort"},Ft=Object(r["f"])("div",{class:"sort-name"},"Sort by:",-1),Nt=Object(r["f"])("option",{value:"priceToHigh"},"Price: Low to High",-1),Jt=Object(r["f"])("option",{value:"priceToLow"},"Price: High to Low",-1),Bt=[Nt,Jt],Rt={class:"view"},Dt={key:1,class:"cards-no-cards"},Gt={class:"pages"},Kt=["onClick"];function Wt(t,e,s,n,c,i){var o=Object(r["p"])("Product");return Object(r["k"])(),Object(r["e"])("main",Pt,[Object(r["f"])("section",It,[Object(r["f"])("ul",kt,[Object(r["f"])("li",{class:Object(r["j"])(["categories-item",{active:"all"===t.selectedCategory}]),onClick:e[0]||(e[0]=function(e){return t.selectedCategory="all"})},$t,2),(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(t.categories,(function(e,s){return Object(r["k"])(),Object(r["e"])("li",{class:Object(r["j"])(["categories-item",{active:t.selectedCategory===e}]),key:s,onClick:function(s){t.selectCategory(e),t.resetPagination()}},[Object(r["f"])("div",Tt,Object(r["q"])(e),1),Object(r["f"])("div",{class:Object(r["j"])(["categories-item-icon",t.categoriesClasses[s]])},null,2)],10,At)})),128))])]),Object(r["f"])("section",Lt,[Object(r["f"])("div",qt,[Object(r["f"])("div",Vt,[xt,Object(r["v"])(Object(r["f"])("select",{class:"display-select","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.resultsPerPage=e}),onChange:e[2]||(e[2]=function(e){return t.resetPagination()})},Ht,544),[[r["s"],t.resultsPerPage]]),Object(r["f"])("div",Qt,Object(r["q"])(t.from)+"-"+Object(r["q"])(t.to)+" of "+Object(r["q"])(t.searchedProducts.length)+" results",1)]),Object(r["f"])("div",Et,[Ft,Object(r["v"])(Object(r["f"])("select",{class:"sort-select","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.sortingType=e}),onChange:e[4]||(e[4]=function(){return t.resetPagination&&t.resetPagination.apply(t,arguments)})},Bt,544),[[r["s"],t.sortingType]])]),Object(r["f"])("div",Rt,[Object(r["f"])("button",{class:Object(r["j"])(["view-button view-button-list",{active:"view-type-list"===t.viewType}]),onClick:e[5]||(e[5]=function(e){return t.viewType="view-type-list"})},null,2),Object(r["f"])("button",{class:Object(r["j"])(["view-button view-button-grid",{active:"view-type-grid"===t.viewType}]),onClick:e[6]||(e[6]=function(e){return t.viewType="view-type-grid"})},null,2)])]),t.paginatedProducts.length>0?(Object(r["k"])(),Object(r["e"])("div",{key:0,class:Object(r["j"])(["cards",t.viewType])},[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(t.paginatedProducts,(function(e,s){return Object(r["k"])(),Object(r["c"])(o,{key:s,class:Object(r["j"])(t.viewType),onOnAdd:t.addItemToCart,id:e.id,title:e.title,price:e.price,category:e.category,description:e.description,image:e.image},null,8,["class","onOnAdd","id","title","price","category","description","image"])})),128))],2)):(Object(r["k"])(),Object(r["e"])("div",Dt," No products ")),Object(r["f"])("ul",Gt,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(t.pages,(function(e){return Object(r["k"])(),Object(r["e"])("li",{class:Object(r["j"])(["page",{active:t.selectedPage===e}]),key:e,onClick:function(s){return t.selectPage(e)}},Object(r["q"])(e),11,Kt)})),128))])])])}Object(r["l"])();var Xt=s("2909");s("4de4"),s("4e82"),s("caad"),s("2532"),s("fb6a"),s("d81d");Object(r["m"])("data-v-90832118");var Yt={class:"card"},Zt={class:"card-pic"},te=["src","alt"],ee={class:"card-wrapper"},se={class:"card-category"},re={class:"card-title"},ne={class:"card-price"},ce={class:"card-description"};function ie(t,e,s,n,c,i){return Object(r["k"])(),Object(r["e"])("div",Yt,[Object(r["f"])("div",Zt,[Object(r["f"])("img",{src:t.image,alt:t.title,class:"card-img"},null,8,te)]),Object(r["f"])("div",ee,[Object(r["f"])("div",se,Object(r["q"])(t.category),1),Object(r["f"])("h2",re,Object(r["q"])(t.title),1),Object(r["f"])("div",ne,"$"+Object(r["q"])(t.price),1),Object(r["f"])("p",ce,Object(r["q"])(t.description),1),Object(r["f"])("button",{class:"card-button",onClick:e[0]||(e[0]=function(e){return t.$emit("onAdd",t.id)})},"Add to cart")])])}Object(r["l"])();var oe=Object(r["h"])({props:["id","title","price","category","description","image"]});s("5830");oe.render=ie,oe.__scopeId="data-v-90832118";var ae=oe,ue=Object(r["h"])({data:function(){return{selectedCategory:"all",sortingType:"priceToHigh",resultsPerPage:"6",selectedPage:1,viewType:"view-type-grid"}},watch:{search:function(){this.resetPagination()}},computed:{search:function(){return this.$store.getters.getSearch},isUserAuthorized:function(){return this.$store.getters.isUserAuthorized},products:function(){return this.$store.getters.getProducts},filteredProducts:function(){var t=this;return"all"!==this.selectedCategory?this.products.filter((function(e){return e.category===t.selectedCategory})):this.products},sortedProducts:function(){return"priceToHigh"===this.sortingType?Object(Xt["a"])(this.filteredProducts).sort((function(t,e){return+t.price-+e.price})):"priceToLow"===this.sortingType?Object(Xt["a"])(this.filteredProducts).sort((function(t,e){return+e.price-+t.price})):this.filteredProducts},searchedProducts:function(){var t=this;return""!==this.search?this.sortedProducts.filter((function(e){return e.title.toLowerCase().includes(t.search.toLowerCase())})):this.sortedProducts},paginatedProducts:function(){return"all"!==this.resultsPerPage?this.searchedProducts.slice(this.from-1,this.to):this.searchedProducts},categories:function(){return this.$store.getters.getCategories},categoriesClasses:function(){return this.categories.map((function(t){return"men's clothing"===t?"male-clothes":"women's clothing"===t?"female-clothes":t}))},pages:function(){return"all"!==this.resultsPerPage?Math.ceil(this.searchedProducts.length/+this.resultsPerPage):1},from:{get:function(){return"all"!==this.resultsPerPage?+this.resultsPerPage*(this.selectedPage-1)+1:1},set:function(t){return t}},to:{get:function(){return"all"!==this.resultsPerPage?+this.resultsPerPage*this.selectedPage>this.searchedProducts.length?this.searchedProducts.length:+this.resultsPerPage*this.selectedPage:this.searchedProducts.length},set:function(t){return t}}},methods:{selectCategory:function(t){this.selectedCategory=t},selectPage:function(t){this.selectedPage=t},resetPagination:function(){this.selectedPage=1,this.from=1,this.to=6,this.to>this.searchedProducts.length&&(this.to=this.searchedProducts.length)},addItemToCart:function(t){!0===this.isUserAuthorized?this.$store.dispatch("addItemToCart",t):this.$store.commit("showLogIn")}},mounted:function(){this.$store.dispatch("getProducts"),this.$store.dispatch("getCategories")},components:{Product:ae}});s("fd2e");ue.render=Wt,ue.__scopeId="data-v-f211ff30";var de=ue,le=Object(r["h"])({name:"App",components:{Header:Ct,Main:de},computed:{waiting:function(){return this.$store.getters.waiting}}});s("2c00");le.render=o;var fe=le,he=s("53ca"),be=s("b85c"),pe=(s("99af"),s("159b"),s("c740"),s("a434"),s("d3b7"),s("5502")),ge=Object(pe["a"])({state:{search:"",isLogInShown:!1,isUserAuthorized:!1,waiting:!1,products:[],categories:[],user:{},signInAnswer:{},cart:{},userCartProducts:[],userCartQuantity:[]},getters:{getSearch:function(t){return t.search},isLogInShown:function(t){return t.isLogInShown},isUserAuthorized:function(t){return t.isUserAuthorized},waiting:function(t){return t.waiting},getProducts:function(t){return t.products},getCategories:function(t){return t.categories},getUser:function(t){return t.user},getSignInAnswer:function(t){return t.signInAnswer},getCart:function(t){return t.cart},getUserCartProducts:function(t){if(void 0!==t.cart.products){var e,s=[],r=Object(be["a"])(t.cart.products);try{var n=function(){var r=e.value,n=t.products.filter((function(t){return t.id===r.productId}));s=s.concat(n)};for(r.s();!(e=r.n()).done;)n()}catch(c){r.e(c)}finally{r.f()}return s}return t.userCartProducts},getUserCartQuantity:function(t){if(void 0===t.cart.products)return t.userCartQuantity;var e=function(){var e,s=[],r=Object(be["a"])(t.cart.products);try{var n=function(){var r=e.value;t.products.forEach((function(t){t.id===r.productId&&s.push(r.quantity)}))};for(r.s();!(e=r.n()).done;)n()}catch(c){r.e(c)}finally{r.f()}return{v:s}}();return"object"===Object(he["a"])(e)?e.v:void 0}},mutations:{updateSearch:function(t,e){t.search=e},showLogIn:function(t){t.isLogInShown=!0},hideLogIn:function(t){t.isLogInShown=!1},userAuthorized:function(t){t.isUserAuthorized=!0},userNotAuthorized:function(t){t.isUserAuthorized=!1},waitingOn:function(t){t.waiting=!0},waitingCompleted:function(t){t.waiting=!1},setProducts:function(t,e){t.products=e},setCategories:function(t,e){t.categories=e},setUser:function(t,e){t.user=e},setSignInAnswer:function(t,e){t.signInAnswer=e},setCart:function(t,e){t.cart=e},updateCart:function(t,e){var s=t.cart.products.map((function(t){return t.productId===e.products[0].productId?e.products[0]:t}));t.cart.products=s},deleteItemFromCart:function(t,e){var s=t.cart.products.findIndex((function(t){return t.productId===e}));t.cart.products.splice(s,1)},addItemToCart:function(t,e){var s=!1;t.cart.products.forEach((function(t){s=t.productId===e})),s||t.cart.products.push({productId:e,quantity:1})}},actions:{getProducts:function(t){var e=t.commit;fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(t){return e("setProducts",t)}))},getCategories:function(t){var e=t.commit;fetch("https://fakestoreapi.com/products/categories").then((function(t){return t.json()})).then((function(t){return e("setCategories",t)}))},getUser:function(t){var e=t.commit;fetch("https://fakestoreapi.com/users/1").then((function(t){return t.json()})).then((function(t){return e("setUser",t)}))},getCart:function(t){var e=t.commit;fetch("https://fakestoreapi.com/carts/1").then((function(t){return t.json()})).then((function(t){return e("setCart",t)}))},postUserSignIn:function(t,e){var s=t.commit,r=Object(R["a"])(e,2),n=r[0],c=r[1];fetch("https://fakestoreapi.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({username:n,password:c})}).then((function(t){return t.json()})).then((function(t){return s("setSignInAnswer",t)}))},patchOneItemToCart:function(t,e){var s=t.commit,r=Object(R["a"])(e,3),n=r[0],c=r[1],i=r[2];fetch("https://fakestoreapi.com/carts/1",{method:"PATCH",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({userId:i,date:"2019-12-10",products:[{productId:c,quantity:n}]})}).then((function(t){return t.json()})).then((function(t){return s("updateCart",t)}))},deleteItemFromCart:function(t,e){var s=t.commit;s("deleteItemFromCart",e)},addItemToCart:function(t,e){var s=t.commit;s("addItemToCart",e)}}});Object(r["b"])(fe).use(ge).mount("#app")},d810:function(t,e,s){},dfd2:function(t,e,s){},f33d:function(t,e,s){},fd2e:function(t,e,s){"use strict";s("f33d")}});
//# sourceMappingURL=app.8eb3cc95.js.map